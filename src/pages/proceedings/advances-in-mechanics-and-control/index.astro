---
import BaseInformationPageLayout from "@layouts/BaseInformationPageLayout.astro";
import { NAVIGATION } from "@lib/client/navigation";
import mainImage from "@assets/images/mainImages/futuristic_spaceship_orbits_planet_powered_by_solar_panels_fuel.jpg";
import { ARTICLES } from "src/pages/articles/ExampleArticle";
import { getProceedingById } from "src/api/api";
import ProceedingVolume from "@components/proceedings/ProceedingVolume";
const article = ARTICLES[0];
const response = await getProceedingById("advances-in-mechanics-and-control");
if (!response) return new Response(null, { status: 404 });
const proceedingData = response.data;
const volumes = proceedingData.volumes.sort((a, b) => {
	return a.volume_number < b.volume_number ? 1 : -1;
});
console.log(proceedingData);
---

<BaseInformationPageLayout
	head={{
		title: proceedingData.title,
		description: proceedingData.title,
	}}
	navigation={{
		navigation: NAVIGATION.proceedings.advancesInMechanicsAndControl,
	}}
	image={mainImage}
	pageTitle={proceedingData.title}
>
	<div class="container mx-auto mt-8">
		<div class="flex flex-row divide-secondary">
			<div class="flex flex-col gap-8 pr-8 left_navigation-sticky">
				<ul class="flex flex-col gap-2">
					<h2 class="text-xl font-bold">All volumes:</h2>
					{
						volumes.map((vol) => (
							<li>
								<a
									class="hover-accent"
									href={`/proceedings/advances-in-mechanics-and-control/volumes/${vol.id}`}
								>
									Volume {vol.volume_number}
								</a>
							</li>
						))
					}
				</ul>
			</div>
			<div class="pl-8 grid grid-cols-4 gap-x-4 gap-y-8">
				{
					volumes.map((vol) => (
						<>
							<ProceedingVolume
								image={`/images/covers/${vol.id}.webp`}
								volumeData={vol}
								proceedingId="advances-in-mechanics-and-control"
							/>
							<ProceedingVolume
								image={`/images/covers/${vol.id}.webp`}
								volumeData={vol}
								proceedingId="advances-in-mechanics-and-control"
							/>
							<ProceedingVolume
								image={`/images/covers/${vol.id}.webp`}
								volumeData={vol}
								proceedingId="advances-in-mechanics-and-control"
							/>
							<ProceedingVolume
								image={`/images/covers/${vol.id}.webp`}
								volumeData={vol}
								proceedingId="advances-in-mechanics-and-control"
							/>
							<ProceedingVolume
								image={`/images/covers/${vol.id}.webp`}
								volumeData={vol}
								proceedingId="advances-in-mechanics-and-control"
							/>
							<ProceedingVolume
								image={`/images/covers/${vol.id}.webp`}
								volumeData={vol}
								proceedingId="advances-in-mechanics-and-control"
							/>
						</>
					))
				}
			</div>
		</div>
	</div>
</BaseInformationPageLayout>
